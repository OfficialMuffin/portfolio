<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Homelab Infrastructure Portfolio</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            line-height: 1.6;
            color: #e0e0e0;
            background: #0a0a0a;
        }

        .hero {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 4rem 2rem;
            text-align: center;
            color: white;
        }

        .hero h1 {
            font-size: 3rem;
            margin-bottom: 1rem;
            font-weight: 700;
        }

        .hero p {
            font-size: 1.3rem;
            opacity: 0.95;
            max-width: 800px;
            margin: 0 auto;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        .section {
            background: #1a1a1a;
            border-radius: 12px;
            padding: 2.5rem;
            margin-bottom: 2rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
            border: 1px solid #2a2a2a;
        }

        .section h2 {
            color: #667eea;
            font-size: 2rem;
            margin-bottom: 1.5rem;
            border-bottom: 2px solid #667eea;
            padding-bottom: 0.5rem;
        }

        .section h3 {
            color: #8b9dc3;
            font-size: 1.5rem;
            margin: 2rem 0 1rem 0;
        }

        .tech-stack {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-top: 2rem;
        }

        .tech-card {
            background: #252525;
            padding: 1.5rem;
            border-radius: 8px;
            border-left: 4px solid #667eea;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .tech-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 6px 12px rgba(102, 126, 234, 0.3);
        }

        .tech-card h4 {
            color: #667eea;
            margin-bottom: 0.5rem;
            font-size: 1.2rem;
        }

        .tech-card p {
            color: #b0b0b0;
            font-size: 0.95rem;
        }

        .security-rules {
            background: #252525;
            padding: 1.5rem;
            border-radius: 8px;
            margin: 1rem 0;
        }

        .security-rules ol {
            padding-left: 1.5rem;
        }

        .security-rules li {
            margin-bottom: 1rem;
            color: #d0d0d0;
        }

        .security-rules strong {
            color: #667eea;
        }

        code {
            background: #2a2a2a;
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            color: #a8dadc;
            font-size: 0.9rem;
        }

        pre {
            background: #1e1e1e;
            padding: 1.5rem;
            border-radius: 8px;
            overflow-x: auto;
            margin: 1rem 0;
            border: 1px solid #2a2a2a;
        }

        pre code {
            background: none;
            padding: 0;
            color: #d4d4d4;
        }

        .stats {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
            margin: 1.5rem 0;
        }

        .stat-badge {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-weight: 600;
            font-size: 0.9rem;
        }

        .warning-box {
            background: #2a1a1a;
            border-left: 4px solid #e74c3c;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 4px;
        }

        .warning-box strong {
            color: #e74c3c;
        }

        .success-box {
            background: #1a2a1a;
            border-left: 4px solid #2ecc71;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 4px;
        }

        .caution-box strong {
            color: #ffd000;
        }

        .caution-box {
            background: #332f0f;
            border-left: 4px solid #ffd000;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 4px;
        }

        .success-box strong {
            color: #2ecc71;
        }


        .footer {
            text-align: center;
            padding: 2rem;
            color: #666;
            margin-top: 3rem;
        }

        .image-gallery {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .image-container {
            background: #252525;
            border-radius: 8px;
            overflow: hidden;
            border: 1px solid #2a2a2a;
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .image-container:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 16px rgba(102, 126, 234, 0.3);
        }

        .image-container img {
            width: 100%;
            height: auto;
            display: block;
            border-bottom: 1px solid #2a2a2a;
        }

        .image-caption {
            padding: 1rem;
            text-align: center;
            color: #8b9dc3;
            font-size: 0.9rem;
            font-style: italic;
        }

        .architecture-diagram {
            background: #252525;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 2rem 0;
            text-align: center;
        }

        .architecture-diagram img {
            max-width: 100%;
            height: auto;
            border-radius: 4px;
        }

        /* Image Modal Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.95);
            animation: fadeIn 0.3s;
        }

        .modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            max-width: 90%;
            max-height: 90vh;
            object-fit: contain;
            border-radius: 8px;
            box-shadow: 0 8px 32px rgba(102, 126, 234, 0.5);
            animation: zoomIn 0.3s;
        }

        .close-modal {
            position: absolute;
            top: 2rem;
            right: 3rem;
            font-size: 3rem;
            color: white;
            cursor: pointer;
            transition: color 0.3s, transform 0.3s;
            z-index: 1001;
            background: rgba(0, 0, 0, 0.5);
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            line-height: 1;
        }

        .close-modal:hover {
            color: #667eea;
            transform: rotate(90deg);
        }

        .image-container img {
            cursor: pointer;
            transition: opacity 0.3s;
        }

        .image-container img:hover {
            opacity: 0.8;
        }

        .architecture-diagram img {
            cursor: pointer;
            transition: opacity 0.3s;
        }

        .architecture-diagram img:hover {
            opacity: 0.8;
        }

        .modal-caption {
            position: absolute;
            bottom: 2rem;
            left: 50%;
            transform: translateX(-50%);
            color: white;
            background: rgba(0, 0, 0, 0.7);
            padding: 1rem 2rem;
            border-radius: 8px;
            font-size: 1.1rem;
            text-align: center;
            max-width: 80%;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes zoomIn {
            from { transform: scale(0.8); }
            to { transform: scale(1); }
        }

        a {
            color: #667eea;
            text-decoration: none;
            transition: color 0.2s;
        }

        a:hover {
            color: #8b9dc3;
            text-decoration: underline;
        }

        @media (max-width: 768px) {
            .hero h1 {
                font-size: 2rem;
            }

            .hero p {
                font-size: 1.1rem;
            }

            .section {
                padding: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <div class="hero">
        <h1>üè† Homelab Infrastructure Portfolio</h1>
        <p>Self-hosted network infrastructure with enterprise-grade security, VPN, and monitoring</p>
    </div>

    <div class="container">
        <div class="section">
            <h2>üîí Cloudflare Proxy with Caddy Reverse Proxy</h2>
            <p>Designed and implemented a self-hosted home network infrastructure utilizing TrueNAS SCALE for centralized data management and service hosting. Key services include Nextcloud for personal cloud storage, eliminating reliance on big tech corporations, all seamlessly integrated behind a secure reverse proxy architecture.</p>

            <div class="tech-stack">
                <div class="tech-card">
                    <h4>Caddy Reverse Proxy</h4>
                    <p>Automated HTTPS reverse proxy in Podman container on Raspberry Pi 5 with Let's Encrypt DNS challenge via Cloudflare</p>
                </div>
                <div class="tech-card">
                    <h4>Cloudflare WAF</h4>
                    <p>Web Application Firewall providing DDoS protection and threat filtering at the network edge</p>
                </div>
                <div class="tech-card">
                    <h4>TrueNAS SCALE</h4>
                    <p>Centralized data management and service hosting platform</p>
                </div>
                <div class="tech-card">
                    <h4>Nextcloud</h4>
                    <p>Self-hosted cloud storage solution with end-to-end encryption</p>
                </div>
            </div>

            <h3>Security Features</h3>
            <div class="stats">
                <span class="stat-badge">End-to-End Encryption</span>
                <span class="stat-badge">Public IP Concealment</span>
                <span class="stat-badge">DNS Challenge TLS</span>
                <span class="stat-badge">1.42k+ Threats Blocked</span>
            </div>

            <h3>Cloudflare WAF Rules Implementation</h3>
            <div class="security-rules">
                <ol>
                    <li><strong>Whitelist:</strong> Home IP whitelisted using Skip action to prevent self-blocking</li>
                    <li><strong>Block Non-UK Traffic:</strong> Geographic restriction with Wireguard VPN fallback for travel (1.42k+ connections blocked)</li>
                    <li><strong>CrowdSec Integration:</strong> Automated blocklist management via Cloudflare API with challenge system for suspicious IPs</li>
                    <li><strong>Bot Protection:</strong> Defense against reconnaissance and vulnerability scanning bots</li>
                    <li><strong>HTTPS Only:</strong> All non-HTTPS traffic blocked at WAF level</li>
                </ol>
            </div>

            <div class="success-box">
                <strong>‚úì Threats Mitigated:</strong> Successfully blocked enumeration attacks, Cypex.ai scans, Palo Alto network scans, and various bot reconnaissance attempts
            </div>

            <h3>Visual Documentation</h3>
            <div class="image-gallery">
                <div class="image-container">
                    <img src="images/cloudflare.png" alt="Cloudflare DNS Records" loading="lazy">
                    <p class="image-caption">Fig. 1 - Cloudflare DNS Records with Proxy Status</p>
                </div>
                <div class="image-container">
                    <img src="images/cloudflare/secrules.png" alt="Cloudflare Security Rules" loading="lazy">
                    <p class="image-caption">Fig. 2 - Cloudflare WAF Security Rules</p>
                </div>
                <div class="image-container">
                    <img src="images/cloudflare/enumeration.png" alt="Attempted Enumeration Attack" loading="lazy">
                    <p class="image-caption">Fig. 3 - Blocked Enumeration Attack</p>
                </div>
                <div class="image-container">
                    <img src="images/cloudflare/blocked.png" alt="Cypex.ai Scan" loading="lazy">
                    <p class="image-caption">Fig. 4 - Cypex.ai Scan Blocked</p>
                </div>
                <div class="image-container">
                    <img src="images/cloudflare/blocked2.png" alt="Palo Alto Scan" loading="lazy">
                    <p class="image-caption">Fig. 5 - Palo Alto Scan Blocked</p>
                </div>
            </div>
        </div>

        <div class="section">
            <h2>üîê Wireguard VPN with Pi-Hole</h2>
            <p>Self-hosted VPN solution with recursive DNS resolver using Unbound and Pi-Hole for ad-blocking, providing secure access to home servers with encrypted traffic protection on public networks.</p>

            <div class="tech-stack">
                <div class="tech-card">
                    <h4>Wireguard VPN</h4>
                    <p>Modern, high-performance VPN for secure remote access to home network</p>
                </div>
                <div class="tech-card">
                    <h4>Pi-Hole</h4>
                    <p>Network-wide ad blocking and DNS management</p>
                </div>
                <div class="tech-card">
                    <h4>Unbound</h4>
                    <p>Recursive DNS resolver for enhanced privacy</p>
                </div>
                <div class="tech-card">
                    <h4>UFW Firewall</h4>
                    <p>Frontend for nftables with default-deny policy</p>
                </div>
            </div>

            <h3>Firewall Configuration Highlights</h3>
            <p>Implemented defense-in-depth strategy using UFW with default deny incoming policy:</p>
            <ul style="padding-left: 2rem; margin-top: 1rem; color: #d0d0d0;">
                <li>Minimal publicly exposed ports (VPN: 58210 & HTTPS: 443) for global connectivity</li>
                <li>All services restricted to local network (192.168.0.0/24) and VPN subnet (10.6.0.0/24)</li>
                <li>DNS, SSH, and management interfaces only accessible through VPN tunnel</li>
                <li>Wireguard traffic forwarding with traversal rules</li>
            </ul>

            <h3>UFW Configuration</h3>
            <pre>
                <code>
Status: active
Logging: on (medium)
Default: deny (incoming), allow (outgoing), deny (routed)
New profiles: skip

To                         Action      From
--                         ------      ----
51820/udp                  ALLOW IN    Anywhere                   # allow-wireguard
59777/tcp on wg0           ALLOW IN    10.6.0.0/24                # SSH-over-Wireguard
53 on wg0                  ALLOW IN    10.6.0.0/24                # DNS-over-Wireguard
10.6.0.1 5201 on wg0       ALLOW IN    10.6.0.0/24                # IPERF3
10.6.0.1 9090/tcp on wg0   ALLOW IN    10.6.0.0/24                # Cockpit
192.168.0.150 59777/tcp on eth0 ALLOW IN    192.168.0.0/24             # LocalSSH
10.6.0.1 4443/tcp on wg0   ALLOW IN    10.6.0.0/24                # Pihole WebUI
192.168.0.150 3015/tcp on eth0 ALLOW IN    192.168.0.0/24             # Homepage
10.6.0.1 3015/tcp on wg0   ALLOW IN    10.6.0.0/24                # Homepage
192.168.0.150 53/udp on eth0 ALLOW IN    192.168.0.130              # TrueNAS DNS
443/tcp                    ALLOW IN    Anywhere                   # Caddy
443/udp                    ALLOW IN    Anywhere                   # Caddy HTTP/3 QUIK

Anywhere on eth0           ALLOW FWD   10.6.0.0/24 on wg0        
Anywhere on wg0            ALLOW FWD   Anywhere on wg0            # Allow Wireguard Traversal
192.168.0.130 8080         ALLOW FWD   10.89.3.0/24               # Caddy to TrueNAS Nextcloud

                </code>
            </pre>

            <div class="warning-box">
                <strong>Known Issue:</strong> MTU configuration causing reduced network speeds through VPN tunnel - currently investigating optimal MTU settings for Wireguard
            </div>

            <div class="caution-box">
                <strong>‚úì Workaround:</strong> Problem:
                <br>
My ISP‚Äôs limited upload capacity combined with the encryption overhead of a VPN significantly throttles download speeds.
<br>
Solution:
I modified the WireGuard configuration to replace the public IP/DDNS endpoint with the VPN server‚Äôs local IP address. This change captures the majority of the available download bandwidth.
<br>
Outcome:
<br>
    Speed gain: Near‚Äëfull restoration of download throughput.
    Residual impact: Encryption still incurs a modest 10‚Äì15‚ÄØ% speed reduction, but the net performance improvement is substantial.
<br>
Trade‚Äëoff:

Switching to the local IP disables the encrypted tunnel and the integrated ad‚Äëblocking. To regain those privacy and security benefits, the endpoint must be reverted to the public IP/DDNS.
            </div>
        </div>

        <div class="section">
            <h2>üìä SIEM Implementation with Splunk Enterprise</h2>
            <p>Deployed Splunk Enterprise on ZimaBoard x86 development board for security monitoring and log aggregation as part of SOC analyst skill development.</p>

            <div class="tech-stack">
                <div class="tech-card">
                    <h4>ZimaBoard</h4>
                    <p>Low-power x86 server with dual NICs, small form factor, ideal for 24/7 operations</p>
                </div>
                <div class="tech-card">
                    <h4>Splunk Enterprise</h4>
                    <p>Industry-standard SIEM for log collection, monitoring, and security analytics</p>
                </div>
                <div class="tech-card">
                    <h4>Splunk Forwarder</h4>
                    <p>Deployed on Windows and Linux endpoints for centralized log collection</p>
                </div>
            </div>

            <h3>ZimaBoard Selection Criteria</h3>
            <ul style="padding-left: 2rem; margin-top: 1rem; color: #d0d0d0;">
                <li>x86 architecture for broad software compatibility (vs ARM Raspberry Pi)</li>
                <li>Compact form factor for flexible deployment</li>
                <li>Low power consumption compared to traditional servers</li>
                <li>Dual NICs enabling potential firewall/router use cases</li>
            </ul>

            <div class="warning-box">
                <strong>Technical Challenge:</strong> KVStore failure due to Intel Celeron N3450 lacking AVX instruction set required for MongoDB 4.2+
                <br><br>
                Error: <code>KV Store process terminated abnormally (exit code 4, signal 4: Illegal instruction)</code>
                <br><br>
                Root Cause: ZimaBoard CPU missing advanced x86 instruction sets present in higher-end processors
            </div>

            <h3>Current Investigations</h3>
            <ul style="padding-left: 2rem; margin-top: 1rem; color: #d0d0d0;">
                <li>Windows Event Viewer analysis for forwarder connection issues</li>
                <li>Firewall rule verification on both endpoints and Splunk server</li>
                <li>Network connectivity testing on same subnet (no routing issues)</li>
            </ul>

            <h3>Hardware Setup</h3>
            <div class="architecture-diagram">
                <img src="https://www.zimaspace.com/_ipx/w_1536&f_webp/image/products/zimaboard.png" alt="ZimaBoard Development Board" loading="lazy">
                <p class="image-caption">ZimaBoard - Low-power x86 development board with dual NICs</p>
            </div>
        </div>

        <div class="section">
            <h2>üõ†Ô∏è Technical Skills Demonstrated</h2>
            <div class="tech-stack">
                <div class="tech-card">
                    <h4>Network Security</h4>
                    <p>Firewall configuration, WAF rules, DDoS mitigation, threat analysis</p>
                </div>
                <div class="tech-card">
                    <h4>Infrastructure as Code</h4>
                    <p>Containerization (Podman), automation, configuration management</p>
                </div>
                <div class="tech-card">
                    <h4>Systems Administration</h4>
                    <p>Linux (TrueNAS, Raspberry Pi), Windows, networking, DNS management</p>
                </div>
                <div class="tech-card">
                    <h4>Security Operations</h4>
                    <p>SIEM deployment, log analysis, incident detection, threat hunting</p>
                </div>
                <div class="tech-card">
                    <h4>Cryptography & PKI</h4>
                    <p>TLS/SSL, certificate management, encrypted tunneling (VPN)</p>
                </div>
                <div class="tech-card">
                    <h4>Troubleshooting</h4>
                    <p>Root cause analysis, debugging, performance optimization</p>
                </div>
            </div>
        </div>

        <div class="section">
            <h2>üéØ Career Goals</h2>
            <p style="font-size: 1.1rem; line-height: 1.8;">
                Building practical experience for <strong>L1 SOC Analyst</strong> role through hands-on homelab implementation. 
                This project demonstrates real-world security monitoring, incident detection, and infrastructure hardening skills 
                essential for cybersecurity operations.
            </p>
        </div>
    </div>

    <div class="footer">
        <p>Built with security-first mindset | Deploy on GitHub Pages</p>
    </div>

    <!-- Image Modal -->
    <div id="imageModal" class="modal">
        <span class="close-modal">&times;</span>
        <img class="modal-content" id="modalImage" alt="Expanded view">
        <div class="modal-caption" id="modalCaption"></div>
    </div>

    <script>
        // Get modal elements
        const modal = document.getElementById('imageModal');
        const modalImg = document.getElementById('modalImage');
        const modalCaption = document.getElementById('modalCaption');
        const closeBtn = document.querySelector('.close-modal');

        // Get all clickable images
        const images = document.querySelectorAll('.image-container img, .architecture-diagram img');

        // Add click event to all images
        images.forEach(img => {
            img.addEventListener('click', function() {
                modal.classList.add('active');
                modalImg.src = this.src;
                modalImg.alt = this.alt;
                
                // Get caption from image container or use alt text
                const caption = this.parentElement.querySelector('.image-caption');
                modalCaption.textContent = caption ? caption.textContent : this.alt;
                
                // Prevent body scroll when modal is open
                document.body.style.overflow = 'hidden';
            });
        });

        // Close modal when clicking X
        closeBtn.addEventListener('click', closeModal);

        // Close modal when clicking outside the image
        modal.addEventListener('click', function(e) {
            if (e.target === modal) {
                closeModal();
            }
        });

        // Close modal with Escape key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && modal.classList.contains('active')) {
                closeModal();
            }
        });

        function closeModal() {
            modal.classList.remove('active');
            document.body.style.overflow = 'auto';
        }
    </script>
</body>
</html>